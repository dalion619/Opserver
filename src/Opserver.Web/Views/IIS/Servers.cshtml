@model ServersModel
@{
    var standalone = Model.StandaloneInstances;
}
<div class="js-refresh" data-name="sql">

    @if (standalone.Any())
    {
        <table class="table table-striped table-hover text-nowrap table-super-condensed table-responsive">
            <tbody>
            <tr class="category-row">
                <th colspan="8">
                    <h5>
                        @standalone.GetWorstStatus().IconSpan() @standalone.Count.ToComma() Standalone
                        <span class="pull-right small"> @Poll.Now(standalone)</span>
                    </h5>
                </th>
            </tr>
            <tr>
                <th>Node</th>
                <th>CPU</th>
                <th>Memory</th>
                <th>Requests</th>
                <th>Network</th>
                <th>Disk</th>
                <th>App Pools</th>
                <th>Websites</th>
                <th>As of</th>
            </tr>
            </tbody>
            <tbody>
            @foreach (var i in standalone)
            {
                <tr class="@i.RowClass()">
                    <td title="@i.Description">
                        @i.IconSpan() <a href="~/iis/instance?node=@i.Name.UrlEncode()">@i.FriendlyName</a>
                    </td>
                    <td>
                        @i.WebServerMonitoring.Data.CurrentCPUPercent
                    </td>
                    <td title="@i.WebServerMonitoring.Data.CurrentMemoryAvailable">@i.WebServerMonitoring.Data.CurrentMemoryInUse</td>
                    <td >
                        @i.WebServerMonitoring.Data.CurrentRequestsSecond
                    </td>
                    <td>
                        @i.WebServerMonitoring.Data.CurrentNetworkSpeedSecond
                    </td>
                    <td>
                        @i.WebServerMonitoring.Data.CurrentDiskIOPS
                    </td>
                    <td>
                        @i.WebServerAppPools.Data.Count
                    </td>
                    <td>
                        @i.WebServerWebsites.Data.Count
                    </td>
                    <td>@i.LastFetch.ToPollSpan(mini: false)</td>
                </tr>
            }
            </tbody>
        </table>
    }
</div>